<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–∞–∫–µ—Ä—Å—Ç–≤–∞</title>
<style>
  :root {
    --bg: #0b0f1a;
    --surface: rgba(17, 24, 39, 0.55);
    --text: #e5e7eb;
    --muted: #9ca3af;
    --border: rgba(255, 255, 255, 0.08);
    --primary: #8b5cf6; /* violet-500 */
    --primary-2: #06b6d4; /* cyan-500 */
    --success: #22c55e; /* green-500 */
  }

  * { box-sizing: border-box; }

  body {
    font-family: "Inter", Arial, sans-serif;
    background: radial-gradient(1200px circle at 15% 10%, #0f172a 0%, var(--bg) 45%, #06080f 100%);
    color: var(--text);
    min-height: 100dvh;
    padding: 28px 20px;
    position: relative;
    overflow-x: hidden;
  }

  /* Ambient gradient blobs */
  body::before,
  body::after {
    content: "";
    position: fixed;
    inset: auto auto 10% -10%;
    width: 60vmax;
    height: 60vmax;
    pointer-events: none;
    z-index: -1;
    filter: blur(110px) saturate(110%);
    opacity: 0.34;
    transform: translateZ(0);
  }
  body::before {
    top: -28%;
    left: -28%;
    background: radial-gradient(closest-side, color-mix(in oklab, var(--primary), white 3%) 0%, transparent 65%);
    animation: float1 16s ease-in-out infinite alternate;
  }
  body::after {
    right: -22%;
    bottom: -22%;
    background: radial-gradient(closest-side, color-mix(in oklab, var(--primary-2), white 2%) 0%, transparent 65%);
    animation: float2 18s ease-in-out infinite alternate;
  }
  @keyframes float1 { to { transform: translate(8%, 6%) scale(1.05); } }
  @keyframes float2 { to { transform: translate(-6%, -8%) scale(1.08); } }

  .main {
    max-width: 1200px;
    margin: 0 auto 12px;
    text-align: center;
  }
  h1 {
    margin-bottom: 10px;
    text-align: center;
    font-weight: 800;
    letter-spacing: -0.02em;
    background: linear-gradient(90deg, #a78bfa, #22d3ee 55%, #34d399);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }
  .main p {
    text-align: left;
    max-width: 560px;
    margin: 0 auto;
    color: var(--muted);
    line-height: 1.55;
  }

  .container-wrapper {
    display: flex;
    justify-content: center;
    gap: 24px;
    flex-wrap: wrap;
  }

  .container {
    position: relative;
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    border: 1px solid var(--border);
    padding: 22px 26px;
    border-radius: 16px;
    max-width: 520px;
    width: 100%;
    box-shadow: 0 20px 60px -25px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.04);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    will-change: transform;
    animation: cardIn .6s ease both;
  }
  @keyframes cardIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
  .container:hover { transform: translateY(-2px); box-shadow: 0 26px 80px -30px rgba(0,0,0,0.7); border-color: rgba(255,255,255,0.12); }

  h2 { text-align: center; margin-top: 2px; margin-bottom: 8px; opacity: .95; }

  fieldset {
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 14px 14px 18px;
  }
  legend {
    padding: 0 10px;
    font-weight: 700;
    color: #dbeafe;
    letter-spacing: .2px;
  }
  small { color: #c7d2fe; font-weight: 700; }

  label {
    display: block;
    margin-top: 12px;
    font-weight: 600;
    color: #cbd5e1;
  }

  input[type="number"] {
    width: 100%;
    padding: 10px 12px;
    margin-top: 6px;
    font-size: 1rem;
    border-radius: 10px;
    border: 1px solid var(--border);
    background: rgba(255, 255, 255, 0.06);
    color: var(--text);
    outline: none;
    transition: border-color .2s ease, box-shadow .2s ease, background .2s ease;
  }
  input[type="number"]::placeholder {
    color: color-mix(in oklab, var(--text), white 8%);
    opacity: .85;
  }
  input[type="number"]:hover { border-color: rgba(255,255,255,0.14); }
  input[type="number"]:focus { border-color: color-mix(in oklab, var(--primary), white 10%); box-shadow: 0 0 0 4px color-mix(in oklab, var(--primary), transparent 80%); background: rgba(255, 255, 255, 0.08); }
  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
  input[type="number"] { -moz-appearance: textfield; appearance: textfield; }

  button {
    margin-top: 18px;
    width: 48%;
    padding: 12px 0;
    font-size: 1rem;
    font-weight: 700;
    border: 1px solid transparent;
    border-radius: 12px;
    cursor: pointer;
    transition: transform .15s ease, filter .2s ease, box-shadow .2s ease, background-position .3s ease;
  }

  /* Primary gradient buttons (calculate) */
  button#calculate, button#calculateWW {
    background: linear-gradient(135deg, var(--primary), var(--primary-2));
    background-size: 200% 200%;
    color: #fff;
    box-shadow: 0 12px 30px -12px rgba(99,102,241,0.6);
  }
  button#calculate:hover, button#calculateWW:hover {
    transform: translateY(-1px);
    background-position: 100% 0;
    box-shadow: 0 16px 40px -14px rgba(6,182,212,0.55);
  }
  button#calculate:active, button#calculateWW:active { transform: translateY(0); filter: brightness(.96); }

  /* Secondary glass buttons (reset) */
  button#reset, button#resetWW {
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
    color: #e2e8f0;
    border-color: var(--border);
  }
  button#reset:hover, button#resetWW:hover { box-shadow: inset 0 -40px 80px rgba(255,255,255,0.04); border-color: rgba(255,255,255,0.14); }
  button#reset:active, button#resetWW:active { filter: brightness(.96); }

  .result {
    margin-top: 22px;
    font-size: 1.25rem;
    font-weight: 800;
    text-align: center;
    color: var(--success);
    text-shadow: 0 1px 0 rgba(0,0,0,.25);
  }

  @media (max-width: 640px) {
    .container { padding: 18px; }
    .main p { max-width: 100%; }
    button { width: 49%; padding: 11px 0; }
  }

  /* Desktop: —É–±–∏—Ä–∞–µ–º —Å–∫—Ä–æ–ª–ª ‚Äî –ø–µ—Ä–µ–Ω–æ—Å–∏–º –≥—Ä–∞–¥–∞—Ü–∏–∏ –≤–±–æ–∫ –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ–º —Å–Ω–∏–∑—É —Å–ª–µ–≤–∞ */
  @media (min-width: 1200px) {
    .main p {
      position: fixed;
      bottom: 24px;
      left: 24px;
      width: 320px;
      max-width: 26vw;
      margin: 0;
      opacity: 0.95;
      text-align: left;
      z-index: 1;
    }
    .container-wrapper { margin-top: 4px; }
  }
</style>
</head>
<body>
  <div class="main">
    <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ª–∞–∫–µ—Ä—Å—Ç–≤–∞</h1>
    <p>
      0‚Äì15: —á–µ–ª–æ–≤–µ–∫ —Å –ø—Ä–æ–∫–ª—è—Ç–∏–µ–º<br>
      15‚Äì30: —Å–∏–ª—å–Ω—ã–π –∞–Ω–ª–∞–∫–µ—Ä<br>
      30‚Äì60: –æ–±—ã—á–Ω—ã–π –∏–≥—Ä–æ–∫<br>
      60‚Äì90: —Å–≤–∏–Ω—å—è<br>
      90‚Äì100: –ø—Ä–æ–∫–ª—è—Ç–æ–µ —Å–≤–∏–Ω—Å—Ç–≤–æ
    </p>
  </div>
  <div class="container-wrapper">
    <div class="container">
        <h2>Genshin / HSR / ZZZ</h2>
        <fieldset>
          <legend><strong>–ü–µ—Ä—Å–æ–Ω–∞–∂–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</strong></legend>
          <label for="charPulls">–í—Å–µ–≥–æ –∫—Ä—É—Ç–æ–∫</label>
          <input type="number" id="charPulls" min="1" step="1" placeholder="–ü—Ä–∏–º–µ—Ä: 4207" />

          <label for="charWinrate">–í–∏–Ω—Ä–µ–π—Ç 50/50 (%)</label>
          <input type="number" id="charWinrate" min="0" max="100" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 45.24" />

          <label for="charAvg">–°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞</label>
          <input type="number" id="charAvg" min="1" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 64.26" />
        </fieldset>

        <fieldset style="margin-top:20px;">
          <legend><strong>–û—Ä—É–∂–µ–π–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</strong></legend>
          <label for="weapPulls">–í—Å–µ–≥–æ –∫—Ä—É—Ç–æ–∫</label>
          <input type="number" id="weapPulls" min="1" step="1" placeholder="–ü—Ä–∏–º–µ—Ä: 1769" />

          <label for="weapWinrate">–í–∏–Ω—Ä–µ–π—Ç 75/25 (%)</label>
          <input type="number" id="weapWinrate" min="0" max="100" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 59.26" />

          <label for="weapAvg">–°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞</label>
          <input type="number" id="weapAvg" min="1" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 46.5" />
        </fieldset>

        <div style="display:flex; justify-content: space-between; margin-top:15px;">
          <button id="calculate">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
          <button id="reset">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>

        <div class="result" id="result" style="margin-top:15px; font-weight:bold;"></div>
    </div>
    <div class="container">
        <h2><small>WW</small></h2>
        <fieldset>
          <legend><strong>–ü–µ—Ä—Å–æ–Ω–∞–∂–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</strong></legend>
          <label for="charPullsWW">–í—Å–µ–≥–æ –∫—Ä—É—Ç–æ–∫</label>
          <input type="number" id="charPullsWW" min="1" step="1" placeholder="–ü—Ä–∏–º–µ—Ä: 1004" />

          <label for="charWinrateWW">–í–∏–Ω—Ä–µ–π—Ç 50/50 (%)</label>
          <input type="number" id="charWinrateWW" min="0" max="100" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 47.62" />

          <label for="charAvgWW">–°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞</label>
          <input type="number" id="charAvgWW" min="1" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 60" />
        </fieldset>

        <fieldset style="margin-top:20px;">
          <legend><strong>–û—Ä—É–∂–µ–π–Ω—ã–π –±–∞–Ω–Ω–µ—Ä</strong></legend>
          <label for="weapPullsWW">–í—Å–µ–≥–æ –∫—Ä—É—Ç–æ–∫</label>
          <input type="number" id="weapPullsWW" min="1" step="1" placeholder="–ü—Ä–∏–º–µ—Ä: 568" />

          <label for="weapAvgWW">–°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞</label>
          <input type="number" id="weapAvgWW" min="1" step="0.01" placeholder="–ü—Ä–∏–º–µ—Ä: 62.89" />
        </fieldset>

        <div style="display:flex; justify-content: space-between; margin-top:15px;">
          <button id="calculateWW">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
          <button id="resetWW">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>

        <div class="result" id="result-ww" style="margin-top:15px; font-weight:bold;"></div>
    </div>
  </div>

<!-- Tilt —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ -->
<script src="https://cdn.jsdelivr.net/npm/vanilla-tilt@1.8.1/dist/vanilla-tilt.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    if (window.VanillaTilt) {
      VanillaTilt.init(document.querySelectorAll('.container'), {
        max: 8,
        speed: 600,
        glare: true,
        'max-glare': 0.15,
        scale: 1.01
      });
    }
  });
</script>

<script>

const clamp = (x, min, max) => Math.min(Math.max(x, min), max);

/**
 * –†–∞—Å—á–µ—Ç —É–¥–∞—á–∏ –¥–ª—è Genshin/HSR/ZZZ
 * @param {number} WR - –í–∏–Ω—Ä–µ–π—Ç –∏–≥—Ä–æ–∫–∞
 * @param {number} AvgL - –°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞ –∏–≥—Ä–æ–∫–∞
 * @param {number} N - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É—Ç–æ–∫
 * @param {number} WR_avg - –≠—Ç–∞–ª–æ–Ω–Ω—ã–π –≤–∏–Ω—Ä–µ–π—Ç
 * @param {number} AvgL_avg - –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Å—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞
 * @param {number} N0 - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É—Ç–æ–∫ –¥–ª—è –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏
 */
function calcLuck(WR, AvgL, N, WR_avg, AvgL_avg, N0) {
  // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ (–æ—Ç 0 –¥–æ 1)
  const confidence = Math.min(1, Math.sqrt(N / N0));
  
  // –§–∞–∫—Ç–æ—Ä –≤–∏–Ω—Ä–µ–π—Ç–∞: –±–æ–ª—å—à–µ –≤–∏–Ω—Ä–µ–π—Ç = –±–æ–ª—å—à–µ —É–¥–∞—á–∏
  const wrFactor = (WR - WR_avg) / WR_avg;
  
  // –§–∞–∫—Ç–æ—Ä —Å—Ä–µ–¥–Ω–µ–π –ª–µ–≥–∏: –º–µ–Ω—å—à–µ —Å—Ä–µ–¥–Ω—è—è = –±–æ–ª—å—à–µ —É–¥–∞—á–∏
  const avgFactor = (AvgL_avg - AvgL) / AvgL_avg;
  
  // –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º —Ñ–∞–∫—Ç–æ—Ä—ã —Å –≤–µ—Å–∞–º–∏: –≤–∏–Ω—Ä–µ–π—Ç 0.6, —Å—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞ 0.8
  const luckRaw = (wrFactor * 6.1 + avgFactor * 0.9) * confidence;
  
  // –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –∫ —à–∫–∞–ª–µ 0-100 —Å —Ü–µ–Ω—Ç—Ä–æ–º –≤ 50
  const luck = 50 + luckRaw * 50;
  
  return clamp(luck, 0, 100);
}

/**
 * –†–∞—Å—á–µ—Ç –æ–±—â–µ–π —É–¥–∞—á–∏ –¥–ª—è Genshin/HSR/ZZZ
 */
function totalLuck(dataChar, dataWeap) {
  const Lc = calcLuck(dataChar.WR, dataChar.AvgL, dataChar.N, 50, 75, 10000);
  const Lw = calcLuck(dataWeap.WR, dataWeap.AvgL, dataWeap.N, 75, 65, 4000);
  
  // –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∫—Ä—É—Ç–æ–∫
  const total = (Lc * dataChar.N + Lw * dataWeap.N) / (dataChar.N + dataWeap.N);
  return clamp(total, 0, 100);
}

/**
 * –†–∞—Å—á–µ—Ç —É–¥–∞—á–∏ –¥–ª—è WW
 * @param {number} AvgL - –°—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞ –∏–≥—Ä–æ–∫–∞
 * @param {number} N - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É—Ç–æ–∫
 * @param {number} AvgL_avg - –≠—Ç–∞–ª–æ–Ω–Ω–∞—è —Å—Ä–µ–¥–Ω—è—è –ª–µ–≥–∞
 * @param {number} N0 - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—Ä—É—Ç–æ–∫ –¥–ª—è –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏
 * @param {number|null} WR - –í–∏–Ω—Ä–µ–π—Ç (–¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–∂–Ω–æ–≥–æ –±–∞–Ω–Ω–µ—Ä–∞)
 * @param {number|null} WR_avg - –≠—Ç–∞–ª–æ–Ω–Ω—ã–π –≤–∏–Ω—Ä–µ–π—Ç
 */
function calcLuckWW(AvgL, N, AvgL_avg, N0, WR = null, WR_avg = null) {
  // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏
  const confidence = Math.min(1, Math.sqrt(N / N0));
  
  // –§–∞–∫—Ç–æ—Ä —Å—Ä–µ–¥–Ω–µ–π –ª–µ–≥–∏
  const avgFactor = (AvgL_avg - AvgL) / AvgL_avg;
  
  let luckRaw = avgFactor * 0.7; // –í–µ—Å —Å—Ä–µ–¥–Ω–µ–π –ª–µ–≥–∏ 0.7
  
  // –ï—Å–ª–∏ –µ—Å—Ç—å –≤–∏–Ω—Ä–µ–π—Ç (–ø–µ—Ä—Å–æ–Ω–∞–∂–Ω—ã–π –±–∞–Ω–Ω–µ—Ä)
  if (WR !== null && WR_avg !== null) {
    const wrFactor = (WR - WR_avg) / WR_avg;
    luckRaw = avgFactor * 5.0 + wrFactor * 0.9; // –í–∏–Ω—Ä–µ–π—Ç 0.5, —Å—Ä–µ–¥–Ω—è—è 0.7
  }
  
  // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º
  luckRaw *= confidence;
  const luck = 50 + luckRaw * 50;
  
  return clamp(luck, 0, 100);
}

/**
 * –†–∞—Å—á–µ—Ç –æ–±—â–µ–π —É–¥–∞—á–∏ –¥–ª—è WW
 */
function totalLuckWW(dataChar, dataWeap) {
  // –ü–µ—Ä—Å–æ–Ω–∞–∂–Ω—ã–π –±–∞–Ω–Ω–µ—Ä: —ç—Ç–∞–ª–æ–Ω 65 –∫—Ä—É—Ç–æ–∫, –≤–∏–Ω—Ä–µ–π—Ç 50%, N0 = 10000
  const Lc = calcLuckWW(dataChar.AvgL, dataChar.N, 65, 1200, dataChar.WR, 50);
  
  // –û—Ä—É–∂–µ–π–Ω—ã–π –±–∞–Ω–Ω–µ—Ä: —ç—Ç–∞–ª–æ–Ω 65 –∫—Ä—É—Ç–æ–∫, –±–µ–∑ –≤–∏–Ω—Ä–µ–π—Ç–∞, N0 = 2000
  const Lw = calcLuckWW(dataWeap.AvgL, dataWeap.N, 65, 1200);
  
  // –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ
  const total = (Lc * dataChar.N + Lw * dataWeap.N) / (dataChar.N + dataWeap.N);
  return clamp(total, 0, 100);
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è Genshin/HSR/ZZZ
document.getElementById('calculate').addEventListener('click', () => {
  const pullsChar = parseFloat(document.getElementById('charPulls').value);
  const winrateChar = parseFloat(document.getElementById('charWinrate').value);
  const avgChar = parseFloat(document.getElementById('charAvg').value);

  const pullsWeap = parseFloat(document.getElementById('weapPulls').value);
  const winrateWeap = parseFloat(document.getElementById('weapWinrate').value);
  const avgWeap = parseFloat(document.getElementById('weapAvg').value);

  if (!pullsChar || isNaN(winrateChar) || !avgChar || !pullsWeap || isNaN(winrateWeap) || !avgWeap) {
    document.getElementById('result').textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.';
    return;
  }

  const dataChar = { N: pullsChar, AvgL: avgChar, WR: winrateChar };
  const dataWeap = { N: pullsWeap, AvgL: avgWeap, WR: winrateWeap };
  const score = totalLuck(dataChar, dataWeap);
  document.getElementById('result').textContent = `${graduateScore(score)}: ${score.toFixed(1)}/100`;
});

document.getElementById('reset').addEventListener('click', () => {
  ['charPulls','charWinrate','charAvg','weapPulls','weapWinrate','weapAvg'].forEach(id => {
    document.getElementById(id).value = '';
  });
  document.getElementById('result').textContent = '';
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è WW
document.getElementById('calculateWW').addEventListener('click', () => {
  const pullsChar = parseFloat(document.getElementById('charPullsWW').value);
  const winrateChar = parseFloat(document.getElementById('charWinrateWW').value);
  const avgChar = parseFloat(document.getElementById('charAvgWW').value);
  const pullsWeap = parseFloat(document.getElementById('weapPullsWW').value);
  const avgWeap = parseFloat(document.getElementById('weapAvgWW').value);

  if (!pullsChar || isNaN(winrateChar) || !avgChar || !pullsWeap || !avgWeap) {
    document.getElementById('result-ww').textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.';
    return;
  }

  const dataChar = { N: pullsChar, AvgL: avgChar, WR: winrateChar };
  const dataWeap = { N: pullsWeap, AvgL: avgWeap };
  const score = totalLuckWW(dataChar, dataWeap);
  document.getElementById('result-ww').textContent = `${graduateScore(score)}: ${score.toFixed(1)}/100`;
});

document.getElementById('resetWW').addEventListener('click', () => {
  ['charPullsWW', 'charWinrateWW', 'charAvgWW', 'weapPullsWW', 'weapAvgWW'].forEach(id => {
    document.getElementById(id).value = '';
  });
  document.getElementById('result-ww').textContent = '';
});

function graduateScore(score) {
  if (score < 0 || score > 100 || isNaN(score)) {
    return "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—á–µ—Ç üòï";
  }
  if (score <= 15) {
    return "–ß–µ–ª–æ–≤–µ–∫ —Å –ø—Ä–æ–∫–ª—è—Ç–∏–µ–º üò£";
  } else if (score <= 30) {
    return "–°–∏–ª—å–Ω—ã–π –∞–Ω–ª–∞–∫–µ—Ä üòû";
  } else if (score <= 60) {
    return "–û–±—ã—á–Ω—ã–π –∏–≥—Ä–æ–∫ üòê";
  } else if (score <= 90) {
    return "–°–≤–∏–Ω—å—è üê∑";
  } else {
    return "–ü—Ä–æ–∫–ª—è—Ç–æ–µ —Å–≤–∏–Ω—Å—Ç–≤–æ üòà";
  }
}

</script>
</body>
</html>